<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type="text/javascript" src="validate.async.js"></script>
</head>
<body>
</body>
<script type="text/javascript">
    var av = AValidate.async({
        val:"12345",
        test:""
    }, {
        val:{
            required:true,
            length:5,
            exist:function(opt, resolve, reject) {
                setTimeout(function() {
                    if(opt.value * 1 > 20000) {
                        resolve("UID IS RIGHT");
                    }else if(opt.value * 1 < 10000){
                        reject("less");
                    }else {
                        reject("wrong");
                    }
                }, 300);
            },
            type:function(opt, resolve, reject) {
                setTimeout(function() {
                    if(opt.value.match(/\d{5}/)) {
                        resolve();
                    }else {
                        reject();
                    }
                }, 1);
            }
        },
        test:{
            required:true
        }
    }).then(function(values) {
        console.log("success", values);
    }).catch(function() {

    });

    console.log("XL:INCLUDE", AValidate({val:"XL"}, {val:{include:["S", "M", "L", "XL"]}}));
    console.log("XXL:INCLUDE", AValidate({val:"XXL"}, {val:{include:["S", "M", "L", "XL"]}}));

    console.log("XL:EXCLUDE", AValidate({val:"XL"}, {val:{exclude:["S", "M", "L", "XL"]}}));
    console.log("XXL:EXCLUDE", AValidate({val:"XXL"}, {val:{exclude:["S", "M", "L", "XL"]}}));

    console.log("RIGHT:EMAIL", AValidate({val:"d@g.com"}, {val:{email:true}}));
    console.log("WRONG:EMAIL", AValidate({val:"111222qqwe@"}, {val:{email:true}}));
    console.log("EMAIL", AValidate({val:"d@g.com"}, {val:{email:false}}));
    console.log("EMAIL", AValidate({val:"111222qqwe@"}, {val:{email:false}}));

    // short-validate
    console.log("SHORT", AValidate({val:"12345"}, {val:/^\d+$/}))
</script>
</html>